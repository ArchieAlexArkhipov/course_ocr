# Задание 1: кроп документов
## Описание
В этом разделе находятся материалы первого домашнего задания: код для работы с данными, вычислением метрик и пример baseline решения.
Для установки пакета выполните из `course_ocr/hw1` команду `pip install -e .`

## Задача
Реализовать какой-либо нейронный алгоритм кропа, обучить и протестировать его на публичном датасете [MIDV-500](https://github.com/fcakyon/midv500).

Можно либо скачать датасет по официальной инструкции пакета (\~70Gb), либо [скачать](https://drive.google.com/file/d/1g5MUqGhHIxriWKyZzCDQ1Qe2uT_53aKv/view?usp=sharing) сжатую версию датасета(`max(w,h)=800pix`, \~7Gb).

## Метрика
Для каждого примера датасета **из test сплита** вам необходимо предсказать четырехугольник документа (смотрите пример baseline).

Для предсказанного четырехгольника и истинного четырехугольника **вычисляется IntersectionOverUnion в пределах кадра**, и если это значение выше 95%, то кроп считается верным, иначе - ошибочным.

Для всего test сплита датасета вычисляется средняя точность предсказаний. Примерный псевдокод:
```python
AccIouAt95 = sum(
    int(iou(pred_quads[i], gt_quads[i]) > 0.95)
    for i in range(N)
) / N
```
## Формат проверки
GroundTruth четырехугольники сохранены в `hw1/gt_quads.json`. Ваши предсказанные четырехугольники необходимо сохранить в 'hw1/pred_quads.json'. Вы можете использовать функции из `course_ocr_hw1.metrics` для сохранения результатов и вычисления метрик.

## Оценка
За домашнюю работу можно получить 0-100%.
Чтобы решение было зачтено, весь код (модели, скрипты, ноутбуки) для воспроизведения ваших результатов должен быть в вашем репозитории в этом разделе.

Критерии оценки:
1. +33%: использована pretrained сеть на каком-то этапе, вычислена accuracy и сохранена в ваш форк
1. +33%: выполнено обучение, Accuracy выше 50%
1. +34%: Accuracy выше baseline (96%)

## Сроки
При выполнении дз в период \[01.03.2022-22.03.2022\] засчитывается полный набранный балл в соответствии с критериями.

При выполнении дз в период \[23.03.2022-10.05.2022\] засчитывается половина набранных баллов в соответствии с критериями.

